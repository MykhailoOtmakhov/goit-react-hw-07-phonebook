{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"D:/projects/GitHub/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/projects/GitHub/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/projects/GitHub/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/projects/GitHub/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/projects/GitHub/goit-react-hw-03-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{v4 as uuidv4}from'uuid';import ContactForm from'./components/ContactForm/ContactForm';import Contacts from'./components/Contacts/Contacts';import Filter from'./components/Filter/Filter';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:''};_this.addContact=function(_ref){var name=_ref.name,number=_ref.number;var contact={id:uuidv4(),name:name,number:number};if(_this.state.contacts.find(function(item){return item.name===name;})){alert(\"\".concat(name,\" is already in a contact\"));}else{_this.setState(function(prevState){return{contacts:[contact].concat(_toConsumableArray(prevState.contacts))};});};};_this.removeContact=function(contactId){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(_ref2){var id=_ref2.id;return id!==contactId;})};});};_this.changeFilter=function(e){_this.setState({filter:e.currentTarget.value});};_this.formSubmitHandler=function(data){console.log(data);};_this.getVisibleContacts=function(){var _this$state=_this.state,filter=_this$state.filter,contacts=_this$state.contacts;var normalizedFilter=filter.toLowerCase();return contacts.filter(function(contact){return contact.name.toLowerCase().includes(normalizedFilter);});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var savedContacts=localStorage.getItem('contacts');if(savedContacts){this.setState({contacts:JSON.parse(savedContacts)});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.contacts!==this.state.contacts){localStorage.setItem('contacts',JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var _this$state2=this.state,contacts=_this$state2.contacts,filter=_this$state2.filter;var visibleContacts=this.getVisibleContacts();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Phonebook\"}),/*#__PURE__*/_jsx(ContactForm,{onAddContact:this.addContact}),/*#__PURE__*/_jsx(\"h2\",{children:\"Contacts\"}),/*#__PURE__*/_jsx(Filter,{value:filter,onChange:this.changeFilter}),contacts.length>0&&/*#__PURE__*/_jsx(Contacts,{contacts:visibleContacts,onRemoveContact:this.removeContact})]});}}]);return App;}(Component);App.defaultProps={};export{App as default};","map":{"version":3,"sources":["D:/projects/GitHub/goit-react-hw-03-phonebook/src/App.js"],"names":["React","Component","v4","uuidv4","ContactForm","Contacts","Filter","App","state","contacts","filter","addContact","name","number","contact","id","find","item","alert","setState","prevState","removeContact","contactId","changeFilter","e","currentTarget","value","formSubmitHandler","data","console","log","getVisibleContacts","normalizedFilter","toLowerCase","includes","savedContacts","localStorage","getItem","JSON","parse","prevProps","setItem","stringify","visibleContacts","length","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport ContactForm from './components/ContactForm/ContactForm';\nimport Contacts from './components/Contacts/Contacts';\nimport Filter from './components/Filter/Filter';\nexport default class App extends Component {\n  static defaultProps = {}\n  state = {\n    contacts: [],\n    filter: '',\n  }\n  componentDidMount(){\n    const savedContacts = localStorage.getItem('contacts');\n    if(savedContacts){\n      this.setState({\n        contacts: JSON.parse(savedContacts),\n      })\n    }\n  }\n  componentDidUpdate(prevProps, prevState){\n    if(prevState.contacts !==this.state.contacts){\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact=({name, number})=>{\n    const contact = {\n      id: uuidv4(),\n      name: name,\n      number: number,\n    };\n\n    if (this.state.contacts.find((item)=>item.name===name)) { \n      alert(`${name} is already in a contact`);\n   }else{\n    this.setState(prevState=>({\n      contacts: [contact, ...prevState.contacts],\n  }));\n};\n   }\n    \n\n  removeContact=contactId=>{\n    this.setState(prevState=>{\n      return{\n          contacts: prevState.contacts.filter(({id})=>\n          id !== contactId),\n      }\n    })      \n  }\n\n  changeFilter=e=>{\n    this.setState({filter: e.currentTarget.value})\n  }\n\n  formSubmitHandler=data=>{\n    console.log(data);\n  };\n\n  getVisibleContacts=()=>{\n    const{filter, contacts} = this.state;\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(contact=>\n      contact.name.toLowerCase().includes(normalizedFilter),\n      );\n  };\n\n  render() {\n    const {contacts, filter}=this.state;\n    const visibleContacts = this.getVisibleContacts();\n    return(\n      <div>\n        <h1>Phonebook</h1>\n        <ContactForm \n          onAddContact={this.addContact}\n        />\n        <h2>Contacts</h2>\n        {/* <p>Find contacts by name:</p> */}\n        <Filter \n          value={filter}\n          onChange={this.changeFilter}\n        />\n        {contacts.length > 0 && \n          <Contacts \n            contacts={visibleContacts}\n            onRemoveContact={this.removeContact} \n        /> }       \n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}