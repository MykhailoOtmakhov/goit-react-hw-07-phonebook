{"ast":null,"code":"import _regeneratorRuntime from\"D:/projects/GitHub/goit-react-hw-07-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/projects/GitHub/goit-react-hw-07-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{v4 as uuidv4}from'uuid';import{fetchContactRequest,fetchContactSuccess,fetchContactError,addContactRequest,addContactSuccess,addContactError,removeContactRequest,removeContactSuccess,removeContactError}from'./contacts-actions';axios.defaults.baseURL='http://localhost:4040';var fetchContact=function fetchContact(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(fetchContactRequest());_context.prev=1;_context.next=4;return axios.get('/contacts');case 4:_yield$axios$get=_context.sent;data=_yield$axios$get.data;dispatch(fetchContactSuccess(data));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch(fetchContactError(_context.t0.message));case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};var addContact=function addContact(name,number,message){return function(dispatch){var contact={id:uuidv4(),name:name,number:number,message:message};dispatch(addContactRequest());axios.post('/contacts',contact).then(function(_ref2){var data=_ref2.data;return dispatch(addContactSuccess(data));}).catch(function(error){return dispatch(addContactError(error.message));});};};var removeContact=function removeContact(contactId){return function(dispatch){dispatch(removeContactRequest());axios.delete(\"/contacts/\".concat(contactId)).then(function(){return dispatch(removeContactSuccess(contactId));}).catch(function(error){return dispatch(removeContactError(error.message));});};};export default{fetchContact:fetchContact,addContact:addContact,removeContact:removeContact};","map":{"version":3,"sources":["D:/projects/GitHub/goit-react-hw-07-phonebook/src/redux/contacts-operations.js"],"names":["axios","v4","uuidv4","fetchContactRequest","fetchContactSuccess","fetchContactError","addContactRequest","addContactSuccess","addContactError","removeContactRequest","removeContactSuccess","removeContactError","defaults","baseURL","fetchContact","dispatch","get","data","message","addContact","name","number","contact","id","post","then","catch","error","removeContact","contactId","delete"],"mappings":"qUAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,OACIC,mBADJ,CAEIC,mBAFJ,CAGIC,iBAHJ,CAIIC,iBAJJ,CAKIC,iBALJ,CAMIC,eANJ,CAOIC,oBAPJ,CAQIC,oBARJ,CASIC,kBATJ,KAUO,oBAVP,CAYAX,KAAK,CAACY,QAAN,CAAeC,OAAf,CAAyB,uBAAzB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,kGAAM,iBAAMC,QAAN,4IACvBA,QAAQ,CAACZ,mBAAmB,EAApB,CAAR,CADuB,sCAIEH,CAAAA,KAAK,CAACgB,GAAN,CAAU,WAAV,CAJF,uCAIZC,IAJY,kBAIZA,IAJY,CAMnBF,QAAQ,CAACX,mBAAmB,CAACa,IAAD,CAApB,CAAR,CANmB,+EAQnBF,QAAQ,CAACV,iBAAiB,CAAC,YAAMa,OAAP,CAAlB,CAAR,CARmB,oEAAN,gEAArB,CAkBA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,IAAD,CAAMC,MAAN,CAAaH,OAAb,QAAyB,UAAAH,QAAQ,CAAI,CACpD,GAAMO,CAAAA,OAAO,CAAG,CACZC,EAAE,CAAErB,MAAM,EADE,CAEZkB,IAAI,CAAJA,IAFY,CAGZC,MAAM,CAANA,MAHY,CAIZH,OAAO,CAAPA,OAJY,CAAhB,CAOAH,QAAQ,CAACT,iBAAiB,EAAlB,CAAR,CAEAN,KAAK,CACAwB,IADL,CACU,WADV,CACuBF,OADvB,EAEKG,IAFL,CAEU,mBAAGR,CAAAA,IAAH,OAAGA,IAAH,OACFF,CAAAA,QAAQ,CAACR,iBAAiB,CAACU,IAAD,CAAlB,CADN,EAFV,EAIKS,KAJL,CAIW,SAAAC,KAAK,QAAIZ,CAAAA,QAAQ,CAACP,eAAe,CAACmB,KAAK,CAACT,OAAP,CAAhB,CAAZ,EAJhB,EAKC,CAfc,EAAnB,CAkBA,GAAMU,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAAAC,SAAS,QAAI,UAAAd,QAAQ,CAAI,CAC3CA,QAAQ,CAACN,oBAAoB,EAArB,CAAR,CAEAT,KAAK,CACA8B,MADL,qBACyBD,SADzB,GAEKJ,IAFL,CAEU,iBAAMV,CAAAA,QAAQ,CAACL,oBAAoB,CAACmB,SAAD,CAArB,CAAd,EAFV,EAGKH,KAHL,CAGW,SAAAC,KAAK,QAAIZ,CAAAA,QAAQ,CAACJ,kBAAkB,CAACgB,KAAK,CAACT,OAAP,CAAnB,CAAZ,EAHhB,EAIH,CAP8B,EAA/B,CAQI,cAAe,CACXJ,YAAY,CAAZA,YADW,CAEXK,UAAU,CAAVA,UAFW,CAGXS,aAAa,CAAbA,aAHW,CAAf","sourcesContent":["import axios from 'axios'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { \r\n    fetchContactRequest,\r\n    fetchContactSuccess,\r\n    fetchContactError, \r\n    addContactRequest, \r\n    addContactSuccess, \r\n    addContactError, \r\n    removeContactRequest, \r\n    removeContactSuccess, \r\n    removeContactError \r\n} from './contacts-actions'\r\n\r\naxios.defaults.baseURL = 'http://localhost:4040';\r\n\r\nconst fetchContact = () => async dispatch => {\r\n    dispatch(fetchContactRequest());\r\n\r\n    try {\r\n        const {data} = await axios.get('/contacts');\r\n\r\n        dispatch(fetchContactSuccess(data))\r\n    } catch (error) {\r\n        dispatch(fetchContactError(error.message))\r\n    }\r\n\r\n    // axios\r\n    //     .get('/contacts')\r\n    //     .then(({data}) => \r\n    //         dispatch(fetchContactSuccess(data)))\r\n    //     .catch(error => dispatch(fetchContactError(error.message)));\r\n}\r\n\r\nconst addContact = (name,number,message) => dispatch => {\r\n    const contact = {\r\n        id: uuidv4(),\r\n        name,\r\n        number,\r\n        message\r\n    };\r\n\r\n    dispatch(addContactRequest())\r\n\r\n    axios\r\n        .post('/contacts', contact)\r\n        .then(({ data }) => \r\n            dispatch(addContactSuccess(data)))\r\n        .catch(error => dispatch(addContactError(error.message)))\r\n    }\r\n\r\n\r\nconst removeContact = contactId => dispatch => {\r\n    dispatch(removeContactRequest());\r\n\r\n    axios\r\n        .delete(`/contacts/${contactId}`)\r\n        .then(() => dispatch(removeContactSuccess(contactId)))\r\n        .catch(error => dispatch(removeContactError(error.message)))\r\n}\r\n    export default {\r\n        fetchContact,\r\n        addContact,\r\n        removeContact\r\n    }\r\n"]},"metadata":{},"sourceType":"module"}