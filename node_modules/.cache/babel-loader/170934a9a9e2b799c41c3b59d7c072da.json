{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _toConsumableArray from\"D:/projects/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:/projects/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/projects/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"D:/projects/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/projects/GitHub/goit-react-hw-05-phonebook/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{v4 as uuidv4}from'uuid';import ContactForm from'./components/ContactForm/ContactForm';import Contacts from'./components/Contacts/Contacts';import Filter from'./components/Filter/Filter';import{CSSTransition}from'react-transition-group';import'./App.css';import Header from'./components/Header/Header.js';import Notification from'./components/Notification/Notification';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={contacts:[],filter:'',showNoty:false};_this.addContact=function(_ref){var name=_ref.name,number=_ref.number;var contact={id:uuidv4(),name:name,number:number};if(_this.state.contacts.find(function(item){return item.name===name;})){_this.setState({showNoty:true});setTimeout(function(){return _this.setState({showNoty:false});},3000);}else{_this.setState(function(prevState){return{contacts:[contact].concat(_toConsumableArray(prevState.contacts))};});}};_this.removeContact=function(contactId){_this.setState(function(prevState){return{contacts:prevState.contacts.filter(function(_ref2){var id=_ref2.id;return id!==contactId;}),filter:''};});};_this.changeFilter=function(e){_this.setState({filter:e.currentTarget.value});};_this.formSubmitHandler=function(data){console.log(data);};_this.getVisibleContacts=function(){var _this$state=_this.state,filter=_this$state.filter,contacts=_this$state.contacts;var normalizedFilter=filter.toLowerCase();return contacts.filter(function(contact){return contact.name.toLowerCase().includes(normalizedFilter);});};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var savedContacts=localStorage.getItem('contacts');if(savedContacts){this.setState({contacts:JSON.parse(savedContacts)});}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevState.contacts!==this.state.contacts){localStorage.setItem('contacts',JSON.stringify(this.state.contacts));}}},{key:\"render\",value:function render(){var _this$state2=this.state,contacts=_this$state2.contacts,filter=_this$state2.filter,showNoty=_this$state2.showNoty;var visibleContacts=this.getVisibleContacts();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CSSTransition,{in:showNoty,timeout:250,classNames:\"notification\",unmountOnExit:true,children:/*#__PURE__*/_jsx(Notification,{})}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(ContactForm,{onAddContact:this.addContact}),/*#__PURE__*/_jsx(CSSTransition,{in:contacts.length>1,timeout:250,classNames:\"container\",unmountOnExit:true,children:/*#__PURE__*/_jsx(Filter,{value:filter,onChange:this.changeFilter})}),/*#__PURE__*/_jsx(CSSTransition,{in:contacts.length>0,timeout:250,classNames:\"container\",unmountOnExit:true,children:/*#__PURE__*/_jsx(Contacts,{contacts:visibleContacts,onRemoveContact:this.removeContact})})]});}}]);return App;}(Component);App.defaultProps={};export{App as default};App.defaultProps={contacts:[],filter:'',showNoty:false};","map":{"version":3,"sources":["D:/projects/GitHub/goit-react-hw-05-phonebook/src/App.js"],"names":["React","Component","v4","uuidv4","ContactForm","Contacts","Filter","CSSTransition","Header","Notification","App","state","contacts","filter","showNoty","addContact","name","number","contact","id","find","item","setState","setTimeout","prevState","removeContact","contactId","changeFilter","e","currentTarget","value","formSubmitHandler","data","console","log","getVisibleContacts","normalizedFilter","toLowerCase","includes","savedContacts","localStorage","getItem","JSON","parse","prevProps","setItem","stringify","visibleContacts","length","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport ContactForm from './components/ContactForm/ContactForm';\nimport Contacts from './components/Contacts/Contacts';\nimport Filter from './components/Filter/Filter';\nimport { CSSTransition } from 'react-transition-group'\nimport './App.css'\nimport Header from './components/Header/Header.js';\nimport Notification from './components/Notification/Notification'\nimport PropTypes from 'prop-types'\n\nexport default class App extends Component {\n  static defaultProps = {}\n  \n  state = {\n    contacts: [],\n    filter: '',\n    showNoty: false,\n  }\n\n  componentDidMount(){\n    const savedContacts = localStorage.getItem('contacts');\n    if(savedContacts){\n      this.setState({\n        contacts: JSON.parse(savedContacts),\n      })\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if(prevState.contacts !==this.state.contacts){\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  addContact=({name, number})=>{\n    const contact = {\n      id: uuidv4(),\n      name: name,\n      number: number,\n    };\n\n    if (this.state.contacts.find((item)=>item.name===name)) {\n      this.setState({showNoty: true})\n        setTimeout(() => this.setState({showNoty: false}), 3000)      \n    } else {\n      this.setState(prevState=>({\n        contacts: [contact, ...prevState.contacts],\n      }))\n    }\n  }    \n\n  removeContact=contactId=>{\n    this.setState(prevState=>{\n      return{\n          contacts: prevState.contacts.filter(({id})=>id !== contactId),\n          filter: '',\n      }\n    })      \n  }\n\n  changeFilter=e=>{\n    this.setState({filter: e.currentTarget.value})\n  }\n\n  formSubmitHandler=data=>{\n    console.log(data);\n  }\n\n  getVisibleContacts=()=>{\n    const{filter, contacts} = this.state;\n    const normalizedFilter = filter.toLowerCase();\n    return contacts.filter(contact=>\n      contact.name.toLowerCase().includes(normalizedFilter),\n    )\n  }\n\n  render() {\n    const {contacts, filter, showNoty}=this.state;\n    const visibleContacts = this.getVisibleContacts();\n    return(\n      <div>\n        <CSSTransition\n          in={showNoty} \n          timeout={250}\n          classNames=\"notification\"\n          unmountOnExit>\n            <Notification />\n        </CSSTransition>\n        <Header />\n        <ContactForm \n          onAddContact={this.addContact}\n        />\n        <CSSTransition \n          in={contacts.length>1}\n          timeout={250}\n          classNames=\"container\"\n          unmountOnExit>\n            <Filter \n              value={filter}\n              onChange={this.changeFilter}\n            />\n        </CSSTransition>\n        <CSSTransition \n          in={contacts.length>0}\n          timeout={250}\n          classNames=\"container\"\n          unmountOnExit>\n            <Contacts \n              contacts={visibleContacts}\n              onRemoveContact={this.removeContact} \n            />\n        </CSSTransition>       \n      </div>\n    )\n  }\n}\n\nApp.propTypes={\n  contacts:PropTypes.array,\n  filter:PropTypes.string,\n  showNoty:PropTypes.bool,\n}\n\nApp.defaultProps = {\n  contacts: [],\n  filter: '',\n  showNoty: false,\n}\n"]},"metadata":{},"sourceType":"module"}